version: '3.4'

services:
  # https://hub.docker.com/r/ethereum/client-go
  ethereum-node-mainnet:
    image: ethereum/client-go:alltools-latest
    ports:
      - 8545:8545
      - 30303:30303
    volumes:
      - ./ethereum/main:/root
    command: >
      geth --rpc 
           --rpcaddr 0.0.0.0
           --rpcport 8545
           --ws
           --wsaddr 0.0.0.0
           --wsport 8546
           --password /ethereum/main/pass
    restart: on-failure
